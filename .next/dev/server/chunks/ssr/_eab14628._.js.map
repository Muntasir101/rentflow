{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 3, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/app/components/ui/Button.module.css [app-ssr] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"button\": \"Button-module__rj9yOG__button\",\n  \"danger\": \"Button-module__rj9yOG__danger\",\n  \"large\": \"Button-module__rj9yOG__large\",\n  \"loader\": \"Button-module__rj9yOG__loader\",\n  \"medium\": \"Button-module__rj9yOG__medium\",\n  \"outline\": \"Button-module__rj9yOG__outline\",\n  \"primary\": \"Button-module__rj9yOG__primary\",\n  \"secondary\": \"Button-module__rj9yOG__secondary\",\n  \"small\": \"Button-module__rj9yOG__small\",\n  \"spin\": \"Button-module__rj9yOG__spin\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 19, "column": 0}, "map": {"version":3,"sources":["file:///E:/Projects/rentManagement/app/components/ui/Button.tsx"],"sourcesContent":["'use client';\r\n\r\nimport styles from './Button.module.css';\r\n\r\ninterface ButtonProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {\r\n    variant?: 'primary' | 'secondary' | 'outline';\r\n    isLoading?: boolean;\r\n    size?: 'small' | 'medium' | 'large';\r\n}\r\n\r\nexport function Button({ children, variant = 'primary', isLoading, size = 'medium', className, ...props }: ButtonProps) {\r\n    return (\r\n        <button\r\n            className={`${styles.button} ${styles[variant]} ${styles[size]} ${className || ''}`}\r\n            disabled={isLoading || props.disabled}\r\n            {...props}\r\n        >\r\n            {isLoading ? <span className={styles.loader}></span> : children}\r\n        </button>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAUO,SAAS,OAAO,EAAE,QAAQ,EAAE,UAAU,SAAS,EAAE,SAAS,EAAE,OAAO,QAAQ,EAAE,SAAS,EAAE,GAAG,OAAoB;IAClH,qBACI,8OAAC;QACG,WAAW,GAAG,wJAAM,CAAC,MAAM,CAAC,CAAC,EAAE,wJAAM,CAAC,QAAQ,CAAC,CAAC,EAAE,wJAAM,CAAC,KAAK,CAAC,CAAC,EAAE,aAAa,IAAI;QACnF,UAAU,aAAa,MAAM,QAAQ;QACpC,GAAG,KAAK;kBAER,0BAAY,8OAAC;YAAK,WAAW,wJAAM,CAAC,MAAM;;;;;mBAAY;;;;;;AAGnE"}},
    {"offset": {"line": 49, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/app/components/ui/Modal.module.css [app-ssr] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"closeButton\": \"Modal-module__AITaea__closeButton\",\n  \"content\": \"Modal-module__AITaea__content\",\n  \"fadeIn\": \"Modal-module__AITaea__fadeIn\",\n  \"header\": \"Modal-module__AITaea__header\",\n  \"modal\": \"Modal-module__AITaea__modal\",\n  \"overlay\": \"Modal-module__AITaea__overlay\",\n  \"slideIn\": \"Modal-module__AITaea__slideIn\",\n  \"title\": \"Modal-module__AITaea__title\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 63, "column": 0}, "map": {"version":3,"sources":["file:///E:/Projects/rentManagement/app/components/ui/Modal.tsx"],"sourcesContent":["import styles from './Modal.module.css';\r\nimport { X } from 'lucide-react';\r\n\r\ninterface ModalProps {\r\n    isOpen: boolean;\r\n    onClose: () => void;\r\n    title: string;\r\n    children: React.ReactNode;\r\n}\r\n\r\nexport function Modal({ isOpen, onClose, title, children }: ModalProps) {\r\n    if (!isOpen) return null;\r\n\r\n    return (\r\n        <div className={styles.overlay}>\r\n            <div className={styles.modal}>\r\n                <div className={styles.header}>\r\n                    <h3 className={styles.title}>{title}</h3>\r\n                    <button onClick={onClose} className={styles.closeButton}>\r\n                        <X size={20} />\r\n                    </button>\r\n                </div>\r\n                <div className={styles.content}>\r\n                    {children}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AASO,SAAS,MAAM,EAAE,MAAM,EAAE,OAAO,EAAE,KAAK,EAAE,QAAQ,EAAc;IAClE,IAAI,CAAC,QAAQ,OAAO;IAEpB,qBACI,8OAAC;QAAI,WAAW,uJAAM,CAAC,OAAO;kBAC1B,cAAA,8OAAC;YAAI,WAAW,uJAAM,CAAC,KAAK;;8BACxB,8OAAC;oBAAI,WAAW,uJAAM,CAAC,MAAM;;sCACzB,8OAAC;4BAAG,WAAW,uJAAM,CAAC,KAAK;sCAAG;;;;;;sCAC9B,8OAAC;4BAAO,SAAS;4BAAS,WAAW,uJAAM,CAAC,WAAW;sCACnD,cAAA,8OAAC,iMAAC;gCAAC,MAAM;;;;;;;;;;;;;;;;;8BAGjB,8OAAC;oBAAI,WAAW,uJAAM,CAAC,OAAO;8BACzB;;;;;;;;;;;;;;;;;AAKrB"}},
    {"offset": {"line": 135, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/app/dashboard/tenants/tenants.module.css [app-ssr] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"avatar\": \"tenants-module__TVlZ-a__avatar\",\n  \"contactCell\": \"tenants-module__TVlZ-a__contactCell\",\n  \"container\": \"tenants-module__TVlZ-a__container\",\n  \"dateCell\": \"tenants-module__TVlZ-a__dateCell\",\n  \"depositAmount\": \"tenants-module__TVlZ-a__depositAmount\",\n  \"emptyState\": \"tenants-module__TVlZ-a__emptyState\",\n  \"flatBadge\": \"tenants-module__TVlZ-a__flatBadge\",\n  \"flatNumber\": \"tenants-module__TVlZ-a__flatNumber\",\n  \"form\": \"tenants-module__TVlZ-a__form\",\n  \"formActions\": \"tenants-module__TVlZ-a__formActions\",\n  \"header\": \"tenants-module__TVlZ-a__header\",\n  \"label\": \"tenants-module__TVlZ-a__label\",\n  \"noFlat\": \"tenants-module__TVlZ-a__noFlat\",\n  \"select\": \"tenants-module__TVlZ-a__select\",\n  \"selectGroup\": \"tenants-module__TVlZ-a__selectGroup\",\n  \"statCard\": \"tenants-module__TVlZ-a__statCard\",\n  \"statContent\": \"tenants-module__TVlZ-a__statContent\",\n  \"statIcon\": \"tenants-module__TVlZ-a__statIcon\",\n  \"statLabel\": \"tenants-module__TVlZ-a__statLabel\",\n  \"statValue\": \"tenants-module__TVlZ-a__statValue\",\n  \"statsGrid\": \"tenants-module__TVlZ-a__statsGrid\",\n  \"subtitle\": \"tenants-module__TVlZ-a__subtitle\",\n  \"table\": \"tenants-module__TVlZ-a__table\",\n  \"tableContainer\": \"tenants-module__TVlZ-a__tableContainer\",\n  \"title\": \"tenants-module__TVlZ-a__title\",\n  \"userCell\": \"tenants-module__TVlZ-a__userCell\",\n  \"userName\": \"tenants-module__TVlZ-a__userName\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 167, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/app/components/ui/Input.module.css [app-ssr] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"input\": \"Input-module__bfW25q__input\",\n  \"inputGroup\": \"Input-module__bfW25q__inputGroup\",\n  \"label\": \"Input-module__bfW25q__label\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 176, "column": 0}, "map": {"version":3,"sources":["file:///E:/Projects/rentManagement/app/components/ui/Input.tsx"],"sourcesContent":["import styles from './Input.module.css';\r\n\r\ninterface InputProps extends React.InputHTMLAttributes<HTMLInputElement> {\r\n    label?: string;\r\n    error?: string;\r\n}\r\n\r\nexport function Input({ label, error, className, ...props }: InputProps) {\r\n    return (\r\n        <div className={styles.container}>\r\n            {label && <label className={styles.label}>{label}</label>}\r\n            <input\r\n                className={`${styles.input} ${error ? styles.errorInput : ''} ${className || ''}`}\r\n                {...props}\r\n            />\r\n            {error && <span className={styles.errorText}>{error}</span>}\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;;;AAOO,SAAS,MAAM,EAAE,KAAK,EAAE,KAAK,EAAE,SAAS,EAAE,GAAG,OAAmB;IACnE,qBACI,8OAAC;QAAI,WAAW,uJAAM,CAAC,SAAS;;YAC3B,uBAAS,8OAAC;gBAAM,WAAW,uJAAM,CAAC,KAAK;0BAAG;;;;;;0BAC3C,8OAAC;gBACG,WAAW,GAAG,uJAAM,CAAC,KAAK,CAAC,CAAC,EAAE,QAAQ,uJAAM,CAAC,UAAU,GAAG,GAAG,CAAC,EAAE,aAAa,IAAI;gBAChF,GAAG,KAAK;;;;;;YAEZ,uBAAS,8OAAC;gBAAK,WAAW,uJAAM,CAAC,SAAS;0BAAG;;;;;;;;;;;;AAG1D"}},
    {"offset": {"line": 222, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/app/components/ui/FileUpload.module.css [app-ssr] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"container\": \"FileUpload-module__5_KBWq__container\",\n  \"documentPreview\": \"FileUpload-module__5_KBWq__documentPreview\",\n  \"error\": \"FileUpload-module__5_KBWq__error\",\n  \"fileInput\": \"FileUpload-module__5_KBWq__fileInput\",\n  \"label\": \"FileUpload-module__5_KBWq__label\",\n  \"preview\": \"FileUpload-module__5_KBWq__preview\",\n  \"previewImage\": \"FileUpload-module__5_KBWq__previewImage\",\n  \"removeButton\": \"FileUpload-module__5_KBWq__removeButton\",\n  \"uploadArea\": \"FileUpload-module__5_KBWq__uploadArea\",\n  \"uploadContent\": \"FileUpload-module__5_KBWq__uploadContent\",\n  \"uploadHint\": \"FileUpload-module__5_KBWq__uploadHint\",\n  \"uploadText\": \"FileUpload-module__5_KBWq__uploadText\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 240, "column": 0}, "map": {"version":3,"sources":["file:///E:/Projects/rentManagement/app/components/ui/FileUpload.tsx"],"sourcesContent":["import { useState, ChangeEvent } from 'react';\r\nimport styles from './FileUpload.module.css';\r\nimport { Upload, X, FileText, Image as ImageIcon } from 'lucide-react';\r\n\r\ninterface FileUploadProps {\r\n    label: string;\r\n    accept?: string;\r\n    value?: string;\r\n    onChange: (base64: string | null) => void;\r\n    maxSize?: number; // in MB\r\n    type?: 'image' | 'document';\r\n}\r\n\r\nexport function FileUpload({\r\n    label,\r\n    accept = 'image/*',\r\n    value,\r\n    onChange,\r\n    maxSize = 2,\r\n    type = 'image'\r\n}: FileUploadProps) {\r\n    const [preview, setPreview] = useState<string | null>(value || null);\r\n    const [fileName, setFileName] = useState<string>('');\r\n    const [error, setError] = useState<string>('');\r\n\r\n    const handleFileChange = async (e: ChangeEvent<HTMLInputElement>) => {\r\n        const file = e.target.files?.[0];\r\n        if (!file) return;\r\n\r\n        // Check file size\r\n        const fileSizeMB = file.size / (1024 * 1024);\r\n        if (fileSizeMB > maxSize) {\r\n            setError(`File size must be less than ${maxSize}MB`);\r\n            return;\r\n        }\r\n\r\n        setError('');\r\n        setFileName(file.name);\r\n\r\n        // Convert to base64\r\n        const reader = new FileReader();\r\n        reader.onloadend = () => {\r\n            const base64 = reader.result as string;\r\n            setPreview(base64);\r\n            onChange(base64);\r\n        };\r\n        reader.readAsDataURL(file);\r\n    };\r\n\r\n    const handleRemove = () => {\r\n        setPreview(null);\r\n        setFileName('');\r\n        onChange(null);\r\n    };\r\n\r\n    const isImage = preview?.startsWith('data:image/');\r\n\r\n    return (\r\n        <div className={styles.container}>\r\n            <label className={styles.label}>{label}</label>\r\n\r\n            {!preview ? (\r\n                <label className={styles.uploadArea}>\r\n                    <input\r\n                        type=\"file\"\r\n                        accept={accept}\r\n                        onChange={handleFileChange}\r\n                        className={styles.fileInput}\r\n                    />\r\n                    <div className={styles.uploadContent}>\r\n                        <Upload size={32} />\r\n                        <p className={styles.uploadText}>Click to upload or drag and drop</p>\r\n                        <p className={styles.uploadHint}>Max size: {maxSize}MB</p>\r\n                    </div>\r\n                </label>\r\n            ) : (\r\n                <div className={styles.preview}>\r\n                    {isImage ? (\r\n                        <img src={preview} alt=\"Preview\" className={styles.previewImage} />\r\n                    ) : (\r\n                        <div className={styles.documentPreview}>\r\n                            <FileText size={48} />\r\n                            <p>{fileName}</p>\r\n                        </div>\r\n                    )}\r\n                    <button\r\n                        type=\"button\"\r\n                        onClick={handleRemove}\r\n                        className={styles.removeButton}\r\n                    >\r\n                        <X size={16} />\r\n                        Remove\r\n                    </button>\r\n                </div>\r\n            )}\r\n\r\n            {error && <p className={styles.error}>{error}</p>}\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AAAA;AAAA;;;;;AAWO,SAAS,WAAW,EACvB,KAAK,EACL,SAAS,SAAS,EAClB,KAAK,EACL,QAAQ,EACR,UAAU,CAAC,EACX,OAAO,OAAO,EACA;IACd,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAgB,SAAS;IAC/D,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAS;IACjD,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAS;IAE3C,MAAM,mBAAmB,OAAO;QAC5B,MAAM,OAAO,EAAE,MAAM,CAAC,KAAK,EAAE,CAAC,EAAE;QAChC,IAAI,CAAC,MAAM;QAEX,kBAAkB;QAClB,MAAM,aAAa,KAAK,IAAI,GAAG,CAAC,OAAO,IAAI;QAC3C,IAAI,aAAa,SAAS;YACtB,SAAS,CAAC,4BAA4B,EAAE,QAAQ,EAAE,CAAC;YACnD;QACJ;QAEA,SAAS;QACT,YAAY,KAAK,IAAI;QAErB,oBAAoB;QACpB,MAAM,SAAS,IAAI;QACnB,OAAO,SAAS,GAAG;YACf,MAAM,SAAS,OAAO,MAAM;YAC5B,WAAW;YACX,SAAS;QACb;QACA,OAAO,aAAa,CAAC;IACzB;IAEA,MAAM,eAAe;QACjB,WAAW;QACX,YAAY;QACZ,SAAS;IACb;IAEA,MAAM,UAAU,SAAS,WAAW;IAEpC,qBACI,8OAAC;QAAI,WAAW,4JAAM,CAAC,SAAS;;0BAC5B,8OAAC;gBAAM,WAAW,4JAAM,CAAC,KAAK;0BAAG;;;;;;YAEhC,CAAC,wBACE,8OAAC;gBAAM,WAAW,4JAAM,CAAC,UAAU;;kCAC/B,8OAAC;wBACG,MAAK;wBACL,QAAQ;wBACR,UAAU;wBACV,WAAW,4JAAM,CAAC,SAAS;;;;;;kCAE/B,8OAAC;wBAAI,WAAW,4JAAM,CAAC,aAAa;;0CAChC,8OAAC,gNAAM;gCAAC,MAAM;;;;;;0CACd,8OAAC;gCAAE,WAAW,4JAAM,CAAC,UAAU;0CAAE;;;;;;0CACjC,8OAAC;gCAAE,WAAW,4JAAM,CAAC,UAAU;;oCAAE;oCAAW;oCAAQ;;;;;;;;;;;;;;;;;;qCAI5D,8OAAC;gBAAI,WAAW,4JAAM,CAAC,OAAO;;oBACzB,wBACG,8OAAC;wBAAI,KAAK;wBAAS,KAAI;wBAAU,WAAW,4JAAM,CAAC,YAAY;;;;;6CAE/D,8OAAC;wBAAI,WAAW,4JAAM,CAAC,eAAe;;0CAClC,8OAAC,0NAAQ;gCAAC,MAAM;;;;;;0CAChB,8OAAC;0CAAG;;;;;;;;;;;;kCAGZ,8OAAC;wBACG,MAAK;wBACL,SAAS;wBACT,WAAW,4JAAM,CAAC,YAAY;;0CAE9B,8OAAC,iMAAC;gCAAC,MAAM;;;;;;4BAAM;;;;;;;;;;;;;YAM1B,uBAAS,8OAAC;gBAAE,WAAW,4JAAM,CAAC,KAAK;0BAAG;;;;;;;;;;;;AAGnD"}},
    {"offset": {"line": 427, "column": 0}, "map": {"version":3,"sources":["file:///E:/Projects/rentManagement/lib/schemas.ts"],"sourcesContent":["import { z } from 'zod';\r\n\r\n// Password strength validation\r\nconst passwordSchema = z\r\n    .string()\r\n    .min(8, 'Password must be at least 8 characters')\r\n    .regex(/[a-z]/, 'Password must contain at least one lowercase letter')\r\n    .regex(/[A-Z]/, 'Password must contain at least one uppercase letter')\r\n    .regex(/[0-9]/, 'Password must contain at least one number')\r\n    .regex(/[^a-zA-Z0-9]/, 'Password must contain at least one special character');\r\n\r\n// Auth validations\r\nexport const loginSchema = z.object({\r\n    email: z.string().email('Invalid email format'),\r\n    password: z.string().min(1, 'Password is required'),\r\n});\r\n\r\nexport const registerSchema = z.object({\r\n    name: z.string().min(2, 'Name must be at least 2 characters'),\r\n    email: z.string().email('Invalid email format'),\r\n    password: passwordSchema,\r\n    role: z.enum(['ADMIN', 'MANAGER', 'STAFF', 'TENANT'], {\r\n        message: 'Invalid role',\r\n    }),\r\n});\r\n\r\n// Building validations\r\nexport const buildingSchema = z.object({\r\n    name: z.string().min(1, 'Building name is required'),\r\n    address: z.string().min(1, 'Address is required'),\r\n});\r\n\r\n// Flat validations\r\nexport const flatSchema = z.object({\r\n    number: z.string().min(1, 'Flat number is required'),\r\n    buildingId: z.string().uuid('Invalid building ID'),\r\n    rentAmount: z.number().positive('Rent amount must be positive'),\r\n    isOccupied: z.boolean().optional().default(false),\r\n});\r\n\r\n// Tenant validations\r\nexport const tenantCreateSchema = z.object({\r\n    name: z.string().min(2, 'Name must be at least 2 characters'),\r\n    email: z.string().email('Invalid email format'),\r\n    password: passwordSchema,\r\n    phone: z.string()\r\n        .min(1, 'Mobile number is required')\r\n        .refine((val) => {\r\n            // Remove all non-digit characters to count actual digits\r\n            const digitsOnly = val.replace(/\\D/g, '');\r\n            return digitsOnly.length >= 10 && digitsOnly.length <= 15;\r\n        }, 'Mobile number must contain 10-15 digits')\r\n        .refine((val) => {\r\n            // Allow digits, spaces, +, -, (, ), and common separators\r\n            return /^[\\d\\s\\+\\-\\(\\)\\.]{10,20}$/.test(val);\r\n        }, 'Invalid mobile number format. Use format like: +1234567890, 01234567890, or (123) 456-7890'),\r\n    flatId: z.string()\r\n        .uuid('Invalid flat ID')\r\n        .optional()\r\n        .nullable()\r\n        .or(z.literal(''))\r\n        .transform((val) => (val === '' ? null : val)),\r\n    moveInDate: z.union([\r\n        z.string().datetime('Invalid date format'),\r\n        z.string().regex(/^\\d{4}-\\d{2}-\\d{2}$/, 'Date must be in YYYY-MM-DD format'),\r\n        z.string().date('Invalid date format'),\r\n    ]),\r\n    securityDeposit: z.union([\r\n        z.number().nonnegative('Security deposit must be non-negative'),\r\n        z.string().transform((val) => (val === '' ? 0 : parseFloat(val))),\r\n    ]).optional().default(0),\r\n    photo: z.string().optional().nullable(),\r\n    identityDocument: z.string().optional().nullable(),\r\n    identityType: z.enum(['NID', 'Passport', 'Driving License', 'Other'])\r\n        .optional()\r\n        .nullable()\r\n        .or(z.literal(''))\r\n        .transform((val) => (val === '' ? null : val)),\r\n});\r\n\r\n// Payment validations\r\nexport const paymentSchema = z.object({\r\n    tenantId: z.string().uuid('Invalid tenant ID'),\r\n    amount: z.number().positive('Amount must be positive'),\r\n    type: z.enum(['RENT', 'UTILITY', 'DEPOSIT'], {\r\n        message: 'Invalid payment type',\r\n    }),\r\n    method: z.enum(['CASH', 'BANK', 'BKASH', 'NAGAD'], {\r\n        message: 'Invalid payment method',\r\n    }),\r\n    month: z.string().regex(/^\\d{4}-\\d{2}$/, 'Month must be in YYYY-MM format').optional().nullable(),\r\n    status: z.enum(['PAID', 'PARTIAL', 'PENDING']).optional().default('PAID'),\r\n});\r\n\r\n// Service Request validations\r\nexport const serviceRequestSchema = z.object({\r\n    tenantId: z.string().uuid('Invalid tenant ID'),\r\n    category: z.enum(['PLUMBING', 'ELECTRICAL', 'CLEANING', 'OTHER'], {\r\n        message: 'Invalid category',\r\n    }),\r\n    description: z.string().min(10, 'Description must be at least 10 characters'),\r\n    assignedToId: z.string().uuid('Invalid user ID').optional().nullable(),\r\n    cost: z.number().nonnegative('Cost must be non-negative').optional().nullable(),\r\n    status: z.enum(['PENDING', 'IN_PROGRESS', 'COMPLETED']).optional().default('PENDING'),\r\n});\r\n\r\n// Family Member validations\r\nexport const familyMemberSchema = z.object({\r\n    name: z.string().min(2, 'Name must be at least 2 characters'),\r\n    relationship: z.string().min(1, 'Relationship is required'),\r\n    age: z.number().int().positive('Age must be a positive integer').optional().nullable(),\r\n    phone: z.string().optional().nullable(),\r\n});\r\n\r\n// Utility Bill validations\r\nexport const utilityBillSchema = z.object({\r\n    tenantId: z.string().uuid('Invalid tenant ID'),\r\n    type: z.enum(['ELECTRICITY', 'WATER', 'GAS', 'INTERNET', 'SERVICE'], {\r\n        message: 'Invalid utility type',\r\n    }),\r\n    amount: z.number().positive('Amount must be positive'),\r\n    month: z.string().regex(/^\\d{4}-\\d{2}$/, 'Month must be in YYYY-MM format'),\r\n    isPaid: z.boolean().optional().default(false),\r\n});\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 578, "column": 0}, "map": {"version":3,"sources":["file:///E:/Projects/rentManagement/app/dashboard/tenants/TenantForm.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { Button } from '@/app/components/ui/Button';\r\nimport { Input } from '@/app/components/ui/Input';\r\nimport { FileUpload } from '@/app/components/ui/FileUpload';\r\nimport styles from './tenants.module.css';\r\nimport { tenantCreateSchema } from '@/lib/schemas';\r\nimport { z } from 'zod';\r\n\r\ninterface TenantFormProps {\r\n    availableFlats: { id: string; label: string }[];\r\n    onSuccess: () => void;\r\n    onCancel: () => void;\r\n}\r\n\r\ntype TenantFormData = z.infer<typeof tenantCreateSchema>;\r\n\r\nexport default function TenantForm({ availableFlats, onSuccess, onCancel }: TenantFormProps) {\r\n    const [loading, setLoading] = useState(false);\r\n    const [errors, setErrors] = useState<Record<string, string>>({});\r\n    const [formData, setFormData] = useState<TenantFormData>({\r\n        name: '',\r\n        email: '',\r\n        password: '',\r\n        phone: '',\r\n        flatId: '',\r\n        moveInDate: '',\r\n        securityDeposit: 0,\r\n        photo: null,\r\n        identityDocument: null,\r\n        identityType: '',\r\n    });\r\n\r\n    const validateField = (name: keyof TenantFormData, value: any) => {\r\n        try {\r\n            (tenantCreateSchema.shape as any)[name].parse(value);\r\n            setErrors(prev => {\r\n                const newErrors = { ...prev };\r\n                delete newErrors[name];\r\n                return newErrors;\r\n            });\r\n        } catch (error: any) {\r\n            if (error instanceof z.ZodError) {\r\n                setErrors(prev => ({ ...prev, [name]: error.issues[0]?.message || 'Validation error' }));\r\n            }\r\n        }\r\n    };\r\n\r\n    const handleChange = (name: keyof TenantFormData, value: any) => {\r\n        setFormData(prev => ({ ...prev, [name]: value }));\r\n        // Validate on change if there's already an error, or just clear it\r\n        if (errors[name]) {\r\n            validateField(name, value);\r\n        }\r\n    };\r\n\r\n    const handleSubmit = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        setLoading(true);\r\n        setErrors({});\r\n\r\n        try {\r\n            // Prepare data for submission - convert empty strings to null for optional fields\r\n            const submitData = {\r\n                ...formData,\r\n                flatId: formData.flatId && formData.flatId.trim() !== '' ? formData.flatId : null,\r\n                identityType: formData.identityType && formData.identityType.trim() !== '' ? formData.identityType : null,\r\n                photo: formData.photo || null,\r\n                identityDocument: formData.identityDocument || null,\r\n                securityDeposit: typeof formData.securityDeposit === 'string' \r\n                    ? (formData.securityDeposit === '' ? 0 : parseFloat(formData.securityDeposit))\r\n                    : (formData.securityDeposit || 0),\r\n            };\r\n\r\n            // Validate entire form\r\n            const validatedData = tenantCreateSchema.parse(submitData);\r\n\r\n            console.log('Submitting tenant data...', { \r\n                hasPhoto: !!validatedData.photo, \r\n                hasDoc: !!validatedData.identityDocument,\r\n                photoSize: validatedData.photo?.length || 0 \r\n            });\r\n\r\n            const controller = new AbortController();\r\n            const timeoutId = setTimeout(() => controller.abort(), 30000); // 30 second timeout\r\n\r\n            try {\r\n                const res = await fetch('/api/tenants', {\r\n                    method: 'POST',\r\n                    headers: { 'Content-Type': 'application/json' },\r\n                    body: JSON.stringify(validatedData),\r\n                    signal: controller.signal,\r\n                });\r\n\r\n                clearTimeout(timeoutId);\r\n\r\n                // Parse response once\r\n                let responseData: any;\r\n                try {\r\n                    const text = await res.text();\r\n                    responseData = text ? JSON.parse(text) : {};\r\n                } catch (parseError) {\r\n                    console.error('Failed to parse response:', parseError);\r\n                    responseData = { error: `Server returned invalid response (${res.status})` };\r\n                }\r\n\r\n                // Check if response is ok\r\n                if (!res.ok) {\r\n                    console.error('API Error Response:', responseData);\r\n                    \r\n                    let errorMessage = 'Failed to create tenant';\r\n                    if (responseData.error) {\r\n                        if (typeof responseData.error === 'string') {\r\n                            errorMessage = responseData.error;\r\n                        } else if (responseData.error.details && Array.isArray(responseData.error.details)) {\r\n                            // Handle server-side validation errors\r\n                            const serverErrors: Record<string, string> = {};\r\n                            responseData.error.details.forEach((err: any) => {\r\n                                const path = err.path || err.field || 'unknown';\r\n                                serverErrors[path] = err.message || 'Validation error';\r\n                            });\r\n                            setErrors(serverErrors);\r\n                            errorMessage = 'Please fix the validation errors';\r\n                        } else if (responseData.error.message) {\r\n                            errorMessage = responseData.error.message;\r\n                        }\r\n                    } else if (responseData.message) {\r\n                        errorMessage = responseData.message;\r\n                    }\r\n                    alert(errorMessage);\r\n                    return;\r\n                }\r\n\r\n                // Success\r\n                console.log('Tenant created successfully:', responseData);\r\n                onSuccess();\r\n            } catch (fetchError: any) {\r\n                clearTimeout(timeoutId);\r\n                if (fetchError.name === 'AbortError') {\r\n                    alert('Request timed out. Please try again.');\r\n                } else {\r\n                    throw fetchError; // Re-throw to be caught by outer catch\r\n                }\r\n            }\r\n        } catch (error: any) {\r\n            console.error('Error submitting form:', error);\r\n            \r\n            if (error instanceof z.ZodError) {\r\n                const newErrors: Record<string, string> = {};\r\n                error.issues.forEach((err: any) => {\r\n                    const path = (err.path && err.path.length > 0) ? String(err.path[0]) : 'unknown';\r\n                    // Combine multiple errors for the same field\r\n                    if (newErrors[path]) {\r\n                        newErrors[path] += `; ${err.message || 'Validation error'}`;\r\n                    } else {\r\n                        newErrors[path] = err.message || 'Validation error';\r\n                    }\r\n                });\r\n                setErrors(newErrors);\r\n                \r\n                // Show alert with first error for user feedback\r\n                const firstError = error.issues[0];\r\n                if (firstError) {\r\n                    alert(`Validation Error: ${firstError.message}\\n\\nPlease check all fields and try again.`);\r\n                } else {\r\n                    alert('Please fix the validation errors in the form');\r\n                }\r\n            } else if (error.name === 'TypeError' && error.message.includes('fetch')) {\r\n                alert('Network error: Could not connect to server. Please check your connection.');\r\n            } else if (error.name === 'AbortError') {\r\n                // Already handled in inner catch\r\n                return;\r\n            } else {\r\n                alert(`An unexpected error occurred: ${error.message || 'Unknown error'}`);\r\n            }\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit} className={styles.form}>\r\n            <FileUpload\r\n                label=\"Tenant Photo (Optional)\"\r\n                accept=\"image/*\"\r\n                value={formData.photo || undefined}\r\n                onChange={(base64) => handleChange('photo', base64)}\r\n                maxSize={2}\r\n                type=\"image\"\r\n            />\r\n\r\n            <Input\r\n                label=\"Full Name\"\r\n                value={formData.name}\r\n                onChange={(e) => handleChange('name', e.target.value)}\r\n                placeholder=\"e.g. John Doe\"\r\n                required\r\n                error={errors.name}\r\n            />\r\n            <Input\r\n                label=\"Email Address\"\r\n                type=\"email\"\r\n                value={formData.email}\r\n                onChange={(e) => handleChange('email', e.target.value)}\r\n                placeholder=\"e.g. john@example.com\"\r\n                required\r\n                error={errors.email}\r\n            />\r\n            <div>\r\n                <Input\r\n                    label=\"Mobile Number\"\r\n                    type=\"tel\"\r\n                    value={formData.phone}\r\n                    onChange={(e) => handleChange('phone', e.target.value)}\r\n                    placeholder=\"e.g. +1234567890 or 01234567890\"\r\n                    required\r\n                    error={errors.phone}\r\n                />\r\n                {!errors.phone && (\r\n                    <p className={styles.helperText} style={{ fontSize: '0.75rem', color: '#6b7280', marginTop: '0.25rem' }}>\r\n                        Must contain 10-15 digits (format: +1234567890, 01234567890, or (123) 456-7890)\r\n                    </p>\r\n                )}\r\n            </div>\r\n            <div>\r\n                <Input\r\n                    label=\"Password\"\r\n                    type=\"password\"\r\n                    value={formData.password}\r\n                    onChange={(e) => handleChange('password', e.target.value)}\r\n                    placeholder=\"Create a secure password\"\r\n                    required\r\n                    error={errors.password}\r\n                />\r\n                {!errors.password && (\r\n                    <p className={styles.helperText} style={{ fontSize: '0.75rem', color: '#6b7280', marginTop: '0.25rem' }}>\r\n                        Must be at least 8 characters with uppercase, lowercase, number, and special character\r\n                    </p>\r\n                )}\r\n            </div>\r\n\r\n            <div className={styles.selectGroup}>\r\n                <label className={styles.label}>Identity Type (Optional)</label>\r\n                <select\r\n                    className={styles.select}\r\n                    value={formData.identityType || ''}\r\n                    onChange={(e) => handleChange('identityType', e.target.value)}\r\n                >\r\n                    <option value=\"\">Select identity type...</option>\r\n                    <option value=\"NID\">National ID (NID)</option>\r\n                    <option value=\"Passport\">Passport</option>\r\n                    <option value=\"Driving License\">Driving License</option>\r\n                    <option value=\"Other\">Other</option>\r\n                </select>\r\n                {errors.identityType && <span className={styles.error}>{errors.identityType}</span>}\r\n            </div>\r\n\r\n            <FileUpload\r\n                label=\"Identity Document (Optional)\"\r\n                accept=\"image/*,application/pdf,.doc,.docx\"\r\n                value={formData.identityDocument || undefined}\r\n                onChange={(base64) => handleChange('identityDocument', base64)}\r\n                maxSize={2}\r\n                type=\"document\"\r\n            />\r\n\r\n            <div className={styles.selectGroup}>\r\n                <label className={styles.label}>Assign Flat (Optional)</label>\r\n                <select\r\n                    className={styles.select}\r\n                    value={formData.flatId || ''}\r\n                    onChange={(e) => handleChange('flatId', e.target.value)}\r\n                >\r\n                    <option value=\"\">Select a flat...</option>\r\n                    {availableFlats.map(f => (\r\n                        <option key={f.id} value={f.id}>{f.label}</option>\r\n                    ))}\r\n                </select>\r\n                {errors.flatId && <span className={styles.error}>{errors.flatId}</span>}\r\n            </div>\r\n\r\n            <Input\r\n                label=\"Move In Date\"\r\n                type=\"date\"\r\n                value={formData.moveInDate}\r\n                onChange={(e) => handleChange('moveInDate', e.target.value)}\r\n                required\r\n                error={errors.moveInDate}\r\n            />\r\n            <Input\r\n                label=\"Security Deposit\"\r\n                type=\"number\"\r\n                value={formData.securityDeposit}\r\n                onChange={(e) => handleChange('securityDeposit', e.target.value)}\r\n                placeholder=\"e.g. 5000\"\r\n                required\r\n                error={errors.securityDeposit}\r\n            />\r\n\r\n            <div className={styles.formActions}>\r\n                <Button type=\"button\" variant=\"secondary\" onClick={onCancel}>\r\n                    Cancel\r\n                </Button>\r\n                <Button type=\"submit\" isLoading={loading}>\r\n                    Onboard Tenant\r\n                </Button>\r\n            </div>\r\n        </form>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1069, "column": 0}, "map": {"version":3,"sources":["file:///E:/Projects/rentManagement/app/dashboard/tenants/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect, useMemo } from 'react';\r\nimport Link from 'next/link';\r\nimport { Button } from '@/app/components/ui/Button';\r\nimport { Modal } from '@/app/components/ui/Modal';\r\nimport { User, Plus, Home, Mail, Calendar, DollarSign, Users as UsersIcon, Building2, CheckCircle } from 'lucide-react';\r\nimport styles from './tenants.module.css';\r\nimport TenantForm from './TenantForm';\r\n\r\ninterface Tenant {\r\n    id: string;\r\n    user: {\r\n        name: string;\r\n        email: string;\r\n    };\r\n    flat: {\r\n        number: string;\r\n        building: {\r\n            name: string;\r\n        };\r\n    } | null;\r\n    moveInDate: string;\r\n    moveOutDate?: string | null;\r\n    securityDeposit: number;\r\n}\r\n\r\ninterface Building {\r\n    id: string;\r\n    name: string;\r\n    flats: { id: string; number: string; isOccupied: boolean }[];\r\n}\r\n\r\nexport default function TenantsPage() {\r\n    const [tenants, setTenants] = useState<Tenant[]>([]);\r\n    const [buildings, setBuildings] = useState<Building[]>([]);\r\n    const [isModalOpen, setIsModalOpen] = useState(false);\r\n\r\n    useEffect(() => {\r\n        fetchTenants();\r\n        fetchBuildings();\r\n    }, []);\r\n\r\n    const fetchTenants = async () => {\r\n        try {\r\n            const res = await fetch('/api/tenants');\r\n            const response = await res.json();\r\n            const tenants = response.success ? response.data : [];\r\n            setTenants(Array.isArray(tenants) ? tenants : []);\r\n        } catch (error) {\r\n            console.error('Failed to fetch tenants:', error);\r\n            setTenants([]);\r\n        }\r\n    };\r\n\r\n    const fetchBuildings = async () => {\r\n        try {\r\n            const res = await fetch('/api/buildings');\r\n            const response = await res.json();\r\n            const buildings = response.success ? response.data : [];\r\n            setBuildings(Array.isArray(buildings) ? buildings : []);\r\n        } catch (error) {\r\n            console.error('Failed to fetch buildings:', error);\r\n            setBuildings([]);\r\n        }\r\n    };\r\n\r\n    const handleSuccess = () => {\r\n        setIsModalOpen(false);\r\n        fetchTenants();\r\n    };\r\n\r\n    // Flatten available flats for selection\r\n    const availableFlats = (buildings || []).flatMap(b =>\r\n        (b.flats || []).filter(f => !f.isOccupied).map(f => ({\r\n            id: f.id,\r\n            label: `${b.name} - Flat ${f.number}`,\r\n        }))\r\n    );\r\n\r\n    // Calculate stats - ensure tenants is always an array\r\n    const tenantsArray = Array.isArray(tenants) ? tenants : [];\r\n    const totalTenants = tenantsArray.length;\r\n    const activeTenants = useMemo(() => {\r\n        return tenantsArray.filter(t => !t.moveOutDate || t.moveOutDate === null).length;\r\n    }, [tenantsArray]);\r\n    const assignedTenants = tenantsArray.filter(t => t.flat !== null).length;\r\n    const unassignedTenants = tenantsArray.filter(t => t.flat === null).length;\r\n    const totalDeposits = tenantsArray.reduce((sum, t) => sum + (t.securityDeposit || 0), 0);\r\n\r\n    return (\r\n        <div className={styles.container}>\r\n            <div className={styles.header}>\r\n                <div>\r\n                    <h1 className={styles.title}>Tenants</h1>\r\n                    <p className={styles.subtitle}>Manage tenant information and assignments</p>\r\n                </div>\r\n                <Button onClick={() => setIsModalOpen(true)}>\r\n                    <Plus size={20} style={{ marginRight: '0.5rem' }} />\r\n                    Onboard Tenant\r\n                </Button>\r\n            </div>\r\n\r\n            {/* Stats Overview */}\r\n            <div className={styles.statsGrid}>\r\n                <div className={styles.statCard}>\r\n                    <div className={styles.statIcon} style={{ background: 'linear-gradient(135deg, rgba(99, 102, 241, 0.1) 0%, rgba(139, 92, 246, 0.1) 100%)', color: 'var(--primary)' }}>\r\n                        <UsersIcon size={24} />\r\n                    </div>\r\n                    <div className={styles.statContent}>\r\n                        <p className={styles.statLabel}>Total Tenants</p>\r\n                        <p className={styles.statValue}>{totalTenants}</p>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className={styles.statCard}>\r\n                    <div className={styles.statIcon} style={{ background: 'linear-gradient(135deg, rgba(16, 185, 129, 0.1) 0%, rgba(5, 150, 105, 0.1) 100%)', color: 'var(--success)' }}>\r\n                        <CheckCircle size={24} />\r\n                    </div>\r\n                    <div className={styles.statContent}>\r\n                        <p className={styles.statLabel}>Active Tenants</p>\r\n                        <p className={styles.statValue}>{activeTenants}</p>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className={styles.statCard}>\r\n                    <div className={styles.statIcon} style={{ background: 'linear-gradient(135deg, rgba(99, 102, 241, 0.1) 0%, rgba(79, 70, 229, 0.1) 100%)', color: 'var(--primary)' }}>\r\n                        <Home size={24} />\r\n                    </div>\r\n                    <div className={styles.statContent}>\r\n                        <p className={styles.statLabel}>Assigned</p>\r\n                        <p className={styles.statValue}>{assignedTenants}</p>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className={styles.statCard}>\r\n                    <div className={styles.statIcon} style={{ background: 'linear-gradient(135deg, rgba(245, 158, 11, 0.1) 0%, rgba(217, 119, 6, 0.1) 100%)', color: 'var(--warning)' }}>\r\n                        <User size={24} />\r\n                    </div>\r\n                    <div className={styles.statContent}>\r\n                        <p className={styles.statLabel}>Unassigned</p>\r\n                        <p className={styles.statValue}>{unassignedTenants}</p>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className={styles.statCard}>\r\n                    <div className={styles.statIcon} style={{ background: 'linear-gradient(135deg, rgba(236, 72, 153, 0.1) 0%, rgba(219, 39, 119, 0.1) 100%)', color: 'var(--accent)' }}>\r\n                        <DollarSign size={24} />\r\n                    </div>\r\n                    <div className={styles.statContent}>\r\n                        <p className={styles.statLabel}>Total Deposits</p>\r\n                        <p className={styles.statValue}>${totalDeposits.toLocaleString()}</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Tenants Table */}\r\n            <div className={styles.tableContainer}>\r\n                <table className={styles.table}>\r\n                    <thead>\r\n                        <tr>\r\n                            <th>Tenant</th>\r\n                            <th>Contact</th>\r\n                            <th>Flat Assignment</th>\r\n                            <th>Move In Date</th>\r\n                            <th>Move Out Date</th>\r\n                            <th>Deposit</th>\r\n                            <th>Actions</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {tenantsArray.map((tenant) => (\r\n                            <tr key={tenant.id}>\r\n                                <td>\r\n                                    <div className={styles.userCell}>\r\n                                        <div className={styles.avatar}>\r\n                                            {tenant.user.name.charAt(0).toUpperCase()}\r\n                                        </div>\r\n                                        <span className={styles.userName}>{tenant.user.name}</span>\r\n                                    </div>\r\n                                </td>\r\n                                <td>\r\n                                    <div className={styles.contactCell}>\r\n                                        <Mail size={14} />\r\n                                        <span>{tenant.user.email}</span>\r\n                                    </div>\r\n                                </td>\r\n                                <td>\r\n                                    {tenant.flat ? (\r\n                                        <div className={styles.flatBadge}>\r\n                                            <Building2 size={14} />\r\n                                            <span>{tenant.flat.building.name}</span>\r\n                                            <span className={styles.flatNumber}>#{tenant.flat.number}</span>\r\n                                        </div>\r\n                                    ) : (\r\n                                        <span className={styles.noFlat}>Not Assigned</span>\r\n                                    )}\r\n                                </td>\r\n                                <td>\r\n                                    <div className={styles.dateCell}>\r\n                                        <Calendar size={14} />\r\n                                        <span>{new Date(tenant.moveInDate).toLocaleDateString()}</span>\r\n                                    </div>\r\n                                </td>\r\n                                <td>\r\n                                    {tenant.moveOutDate ? (\r\n                                        <div className={styles.dateCell}>\r\n                                            <Calendar size={14} />\r\n                                            <span>{new Date(tenant.moveOutDate).toLocaleDateString()}</span>\r\n                                        </div>\r\n                                    ) : (\r\n                                        <span className={styles.noFlat}>-</span>\r\n                                    )}\r\n                                </td>\r\n                                <td>\r\n                                    <span className={styles.depositAmount}>${tenant.securityDeposit?.toLocaleString() || 0}</span>\r\n                                </td>\r\n                                <td>\r\n                                    <Link href={`/dashboard/tenants/${tenant.id}`}>\r\n                                        <Button variant=\"outline\" style={{ padding: '0.5rem 1rem', fontSize: '0.875rem' }}>\r\n                                            View Details\r\n                                        </Button>\r\n                                    </Link>\r\n                                </td>\r\n                            </tr>\r\n                        ))}\r\n                        {tenants.length === 0 && (\r\n                            <tr>\r\n                                <td colSpan={7} className={styles.emptyState}>\r\n                                    <UsersIcon size={48} />\r\n                                    <p>No tenants yet. Start by onboarding your first tenant.</p>\r\n                                </td>\r\n                            </tr>\r\n                        )}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n\r\n            <Modal\r\n                isOpen={isModalOpen}\r\n                onClose={() => setIsModalOpen(false)}\r\n                title=\"Onboard New Tenant\"\r\n            >\r\n                <TenantForm\r\n                    availableFlats={availableFlats}\r\n                    onSuccess={handleSuccess}\r\n                    onCancel={() => setIsModalOpen(false)}\r\n                />\r\n            </Modal>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}